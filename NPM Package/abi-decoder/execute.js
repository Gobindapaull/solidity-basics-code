const axios = require("axios")
const abiDecoder = require("abi-decoder")

const DATA = "0x24856bc3000000000000000000000000000000000000000000000000000000000000004000000000000000000000000000000000000000000000000000000000000000800000000000000000000000000000000000000000000000000000000000000002000c000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000200000000000000000000000000000000000000000000000000000000000000400000000000000000000000000000000000000000000000000000000000000160000000000000000000000000000000000000000000000000000000000000010000000000000000000000000000000000000000000000000000000000000000020000000000000000000000000000000000000000000000008ac7230489e800000000000000000000000000000000000000000000000000000042626107585f9000000000000000000000000000000000000000000000000000000000000000a00000000000000000000000000000000000000000000000000000000000000001000000000000000000000000000000000000000000000000000000000000002b55d398326f99059ff775485246999027b3197955000064bb4cdb9cbd36b01bd1cbaebf2de08d9173bc095c0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000040000000000000000000000000702ac1eeeeec74394821ff26ff2e148d21a7c4cf0000000000000000000000000000000000000000000000000042626107585f90"

const contractAddress = "0x1A0A18AC4BECDDbd6389559687d1A73d8927E416"
const API_KEY = ""

const url = `https://api.bscscan.com/api?module=contract&action=getabi&address=${contractAddress}&apikey=${API_KEY}`

const getAbi = async () => {
    const res = await axios.get(url)
    return JSON.parse(res.data.result)
}

const main = async () => {
    const ABI = await getAbi()
    abiDecoder.addABI(ABI)

    const decodedData = abiDecoder.decodeMethod(DATA)
    console.log(JSON.stringify(decodedData, null, 1))

    // // const innerDecodedData = abiDecoder.decodeMethod(decodedData.params[1].value[0])
    // // console.log(innerDecodedData)

}

main()
